TRANSLATIONS = {
    "uz": {
        "welcome": "ðŸŽ“ EduBot.ai ga xush kelibsiz!\n\nAkademik hujjatlar yaratish uchun tilni tanlang:",
        "language_selected": "ðŸ“ Til tanlandi: O'zbek\n\nBot ishga tayyor! Quyidagi tugmalar orqali xizmatlardan foydalaning:",
        "channel_subscription_required": "ðŸ“¢ Botdan foydalanish uchun quyidagi kanallarga a'zo bo'lishingiz shart:",
        "check_subscription": "âœ… Tekshirish",
        "subscription_verified": "âœ… A'zolik tasdiqlandi! Botdan foydalanishingiz mumkin.",
        "subscription_not_verified": "âŒ Siz hali kanallarga a'zo bo'lmagan. Iltimos, a'zo bo'ling va qayta tekshiring.",
        "main_menu": {
            "presentation": "ðŸ“Š Taqdimot",
            "independent_work": "ðŸŽ“ Mustaqil ish",
            "referat": "ðŸ“„ Referat",
            "my_account": "ðŸ’° Mening hisobim",
            "payment": "ðŸ’³ To'lov qilish",
            "help": "ðŸ“ž Yordam",
            "settings": "âš™ï¸ Sozlamalar"
        },
        "enter_topic": "ðŸ“ Mavzuni kiriting:",
        "select_slide_count": "ðŸ“Š Slaydlar sonini tanlang:",
        "select_page_count": "ðŸ“„ Varoqlar sonini tanlang:",
        "generating": "â³ Yaratilmoqda... Iltimos kuting.",
        "document_ready": "âœ… Hujjat tayyor!",
        "balance_info": "ðŸ’° Hisobingiz:\n\nðŸ’µ Balans: {balance} so'm\nðŸŽ Bepul xizmat: {free_service}",
        "insufficient_balance": "âŒ Hisobingizda mablag' yetarli emas. To'lov qiling.",
        "select_payment_amount": "ðŸ’³ To'lov miqdorini tanlang:",
        "payment_instructions": "ðŸ’³ To'lov qilish uchun:\n\n1. Quyidagi karta raqamiga pul o'tkazing:\n{card}\n\n2. To'lov chekini yuboring:",
        "payment_sent_to_admin": "ðŸ“¤ To'lov so'rovi adminga yuborildi. Tekshirilgandan keyin hisobingizga qo'shiladi.",
        "payment_approved": "âœ… To'lovingiz tasdiqlandi! {amount} so'm hisobingizga qo'shildi.",
        "payment_rejected": "âŒ To'lovingiz rad etildi. Iltimos, qayta urinib ko'ring.",
        "free_service_used": "ðŸŽ Bepul xizmatdan foydalandingiz!",
        "promocode_applied": "ðŸŽ Promokod qo'llandi! Xizmat bepul.",
        "help_text": "ðŸ†˜ Yordam\n\nðŸ“Š Taqdimot - AI yordamida taqdimot yaratish (3000 som)\nðŸŽ“ Mustaqil ish - DOCX formatda mustaqil ish (5000 som)\nðŸ“„ Referat - DOCX formatda referat (4000 som)\nðŸ’° Hisobim - balans va bepul xizmatlar\nðŸ’³ To'lov - mablag' to'ldirish\nâš™ï¸ Sozlamalar - tilni o'zgartirish va promokod",
        "settings_menu": "âš™ï¸ Sozlamalar\n\nTilni o'zgartirish:",
        "language_changed": "âœ… Til o'zgartirildi!",
        "help_message": "ðŸ“ž Yordam va ma'lumotlar"
    },
    "ru": {
        "welcome": "ðŸŽ“ Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² EduBot.ai!\n\nÐ’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð°ÐºÐ°Ð´ÐµÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²:",
        "language_selected": "ðŸ“ Ð¯Ð·Ñ‹Ðº Ð²Ñ‹Ð±Ñ€Ð°Ð½: Ð ÑƒÑÑÐºÐ¸Ð¹\n\nÐ‘Ð¾Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ! Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð½Ð¸Ð¶Ðµ Ð´Ð»Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð° Ðº ÑƒÑÐ»ÑƒÐ³Ð°Ð¼:",
        "channel_subscription_required": "ðŸ“¢ Ð”Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð±Ð¾Ñ‚Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ñ‚ÑŒÑÑ Ð½Ð° ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÐºÐ°Ð½Ð°Ð»Ñ‹:",
        "check_subscription": "âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ",
        "subscription_verified": "âœ… ÐŸÐ¾Ð´Ð¿Ð¸ÑÐºÐ° Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð°! Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°.",
        "subscription_not_verified": "âŒ Ð’Ñ‹ ÐµÑ‰Ðµ Ð½Ðµ Ð¿Ð¾Ð´Ð¿Ð¸ÑÐ°Ð»Ð¸ÑÑŒ Ð½Ð° ÐºÐ°Ð½Ð°Ð»Ñ‹. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ð¿Ð¸ÑˆÐ¸Ñ‚ÐµÑÑŒ Ð¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",
        "main_menu": {
            "presentation": "ðŸ“Š ÐŸÑ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ",
            "independent_work": "ðŸŽ“ Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°",
            "referat": "ðŸ“„ Ð ÐµÑ„ÐµÑ€Ð°Ñ‚",
            "my_account": "ðŸ’° ÐœÐ¾Ð¹ ÑÑ‡ÐµÑ‚",
            "payment": "ðŸ’³ ÐžÐ¿Ð»Ð°Ñ‚Ð°",
            "help": "ðŸ“ž Yordam",
            "settings": "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"
        },
        "enter_topic": "ðŸ“ Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐ¼Ñƒ:",
        "select_slide_count": "ðŸ“Š Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ»Ð°Ð¹Ð´Ð¾Ð²:",
        "select_page_count": "ðŸ“„ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†:",
        "generating": "â³ Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ... ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ.",
        "document_ready": "âœ… Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð²!",
        "balance_info": "ðŸ’° Ð’Ð°Ñˆ ÑÑ‡ÐµÑ‚:\n\nðŸ’µ Ð‘Ð°Ð»Ð°Ð½Ñ: {balance} ÑÑƒÐ¼\nðŸŽ Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°Ñ ÑƒÑÐ»ÑƒÐ³Ð°: {free_service}",
        "insufficient_balance": "âŒ ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÑ€ÐµÐ´ÑÑ‚Ð² Ð½Ð° ÑÑ‡ÐµÑ‚Ðµ. ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð±Ð°Ð»Ð°Ð½Ñ.",
        "select_payment_amount": "ðŸ’³ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÑƒÐ¼Ð¼Ñƒ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°:",
        "payment_instructions": "ðŸ’³ Ð”Ð»Ñ Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹:\n\n1. ÐŸÐµÑ€ÐµÐ²ÐµÐ´Ð¸Ñ‚Ðµ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð½Ð° ÐºÐ°Ñ€Ñ‚Ñƒ:\n{card}\n\n2. ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ñ‡ÐµÐº Ð¾Ð± Ð¾Ð¿Ð»Ð°Ñ‚Ðµ:",
        "payment_sent_to_admin": "ðŸ“¤ Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð¾Ð¿Ð»Ð°Ñ‚Ñƒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ. ÐŸÐ¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÑÑƒÐ¼Ð¼Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð° Ð½Ð° Ð²Ð°Ñˆ ÑÑ‡ÐµÑ‚.",
        "payment_approved": "âœ… Ð’Ð°Ñˆ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½! {amount} ÑÑƒÐ¼ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ Ð½Ð° Ð²Ð°Ñˆ ÑÑ‡ÐµÑ‚.",
        "payment_rejected": "âŒ Ð’Ð°Ñˆ Ð¿Ð»Ð°Ñ‚ÐµÐ¶ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",
        "free_service_used": "ðŸŽ Ð’Ñ‹ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»Ð¸ÑÑŒ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾Ð¹ ÑƒÑÐ»ÑƒÐ³Ð¾Ð¹!",
        "promocode_applied": "ðŸŽ ÐŸÑ€Ð¾Ð¼Ð¾ÐºÐ¾Ð´ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½! Ð£ÑÐ»ÑƒÐ³Ð° Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð°.",
        "help_text": "ðŸ†˜ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ\n\nðŸ“Š ÐŸÑ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ·ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ð¸ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð˜Ð˜ (3000 ÑÑƒÐ¼)\nðŸŽ“ Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ DOCX (5000 ÑÑƒÐ¼)\nðŸ“„ Ð ÐµÑ„ÐµÑ€Ð°Ñ‚ - ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ñ€ÐµÑ„ÐµÑ€Ð°Ñ‚Ð° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ DOCX (4000 ÑÑƒÐ¼)\nðŸ’° ÐœÐ¾Ð¹ ÑÑ‡ÐµÑ‚ - Ð±Ð°Ð»Ð°Ð½Ñ Ð¸ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ðµ ÑƒÑÐ»ÑƒÐ³Ð¸\nðŸ’³ ÐžÐ¿Ð»Ð°Ñ‚Ð° - Ð¿Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð±Ð°Ð»Ð°Ð½ÑÐ°\nâš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ - Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ ÑÐ·Ñ‹ÐºÐ° Ð¸ Ð¿Ñ€Ð¾Ð¼Ð¾ÐºÐ¾Ð´",
        "settings_menu": "âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸\n\nÐ˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ·Ñ‹Ðº:",
        "language_changed": "âœ… Ð¯Ð·Ñ‹Ðº Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½!",
        "help_message": "ðŸ“ž Yordam va ma'lumotlar"
    },
    "en": {
        "welcome": "ðŸŽ“ Welcome to EduBot.ai!\n\nSelect language for creating academic documents:",
        "language_selected": "ðŸ“ Language selected: English\n\nBot is ready! Use the buttons below to access services:",
        "channel_subscription_required": "ðŸ“¢ To use the bot, you must subscribe to the following channels:",
        "check_subscription": "âœ… Check",
        "subscription_verified": "âœ… Subscription verified! You can use the bot.",
        "subscription_not_verified": "âŒ You haven't subscribed to the channels yet. Please subscribe and check again.",
        "main_menu": {
            "presentation": "ðŸ“Š Presentation",
            "independent_work": "ðŸŽ“ Independent Work",
            "referat": "ðŸ“„ Research Paper",
            "my_account": "ðŸ’° My Account",
            "payment": "ðŸ’³ Payment",
            "help": "ðŸ“ž Yordam",
            "settings": "âš™ï¸ Settings"
        },
        "enter_topic": "ðŸ“ Enter topic:",
        "select_slide_count": "ðŸ“Š Select number of slides:",
        "select_page_count": "ðŸ“„ Select number of pages:",
        "generating": "â³ Generating... Please wait.",
        "document_ready": "âœ… Document is ready!",
        "balance_info": "ðŸ’° Your account:\n\nðŸ’µ Balance: {balance} som\nðŸŽ Free service: {free_service}",
        "insufficient_balance": "âŒ Insufficient balance. Please make a payment.",
        "select_payment_amount": "ðŸ’³ Select payment amount:",
        "payment_instructions": "ðŸ’³ To pay:\n\n1. Transfer money to the card:\n{card}\n\n2. Send payment receipt:",
        "payment_sent_to_admin": "ðŸ“¤ Payment request sent to admin. After verification, the amount will be added to your account.",
        "payment_approved": "âœ… Your payment has been approved! {amount} som added to your account.",
        "payment_rejected": "âŒ Your payment was rejected. Please try again.",
        "free_service_used": "ðŸŽ You used the free service!",
        "promocode_applied": "ðŸŽ Promocode applied! Service is free.",
        "help_text": "ðŸ†˜ Help\n\nðŸ“Š Presentation - create AI-powered presentations (3000 som)\nðŸŽ“ Independent Work - create work in DOCX format (5000 som)\nðŸ“„ Research Paper - create paper in DOCX format (4000 som)\nðŸ’° My Account - balance and free services\nðŸ’³ Payment - top up balance\nâš™ï¸ Settings - change language and promocode",
        "settings_menu": "âš™ï¸ Settings\n\nChange language:",
        "language_changed": "âœ… Language changed!",
        "help_message": "ðŸ“ž Yordam va ma'lumotlar"
    }
}

def get_text(lang: str, key: str, **kwargs) -> str:
    """Get translated text by language and key"""
    keys = key.split('.')
    text = TRANSLATIONS.get(lang, TRANSLATIONS['en'])

    for k in keys:
        if isinstance(text, dict):
            text = text.get(k, key)
        else:
            return key

    if kwargs:
        try:
            return text.format(**kwargs)
        except:
            return text

    return text